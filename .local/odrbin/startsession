#!/bin/execlineb -P
importas S6_SCANDIR S6_SCANDIR
ifelse { redirfd -w 1 /dev/null which dwl }
  {
    export XDG_CURRENT_DESKTOP dwl
    if -n { pgrep dwl }
    foreground { dbus-launch --exit-with-session dwl -s "wlstart" }
    s6-svscanctl -t ${S6_SCANDIR}
  }
if { redirfd -w 1 /dev/null which startx }
  if -n { pgrep xinit } startx
